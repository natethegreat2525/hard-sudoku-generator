(this["webpackJsonphard-sudoku"]=this["webpackJsonphard-sudoku"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(2),o=r.n(n),s=r(8),i=r.n(s),l=(r(14),r(3)),u=r(4),c=r(6),d=r(5),h=(r(15),function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"renderCell",value:function(e){return Object(a.jsx)("div",{style:{width:50,height:50,font:"37px Arial, sans-serif",border:"1px solid black",display:"inline-block"},children:Object(a.jsx)("div",{style:{position:"relative",top:6,color:"-"===e?"white":"black"},children:e})})}},{key:"renderBlockCells",value:function(e){for(var t=[],r=0;r<3;r++){for(var n=0;n<3;n++)t.push(this.renderCell(e[n+3*r]));t.push(Object(a.jsx)("br",{}))}return t}},{key:"renderSubBlock",value:function(e){return Object(a.jsx)("div",{style:{border:"1px solid black",display:"inline-block"},children:this.renderBlockCells(e)})}},{key:"renderAllBlocks",value:function(e){for(var t=[],r=0;r<3;r++){for(var n=0;n<3;n++){for(var o=[],s=0;s<3;s++)for(var i=0;i<3;i++)o.push(e[3*n+i+9*(3*r+s)]);t.push(this.renderSubBlock(o))}t.push(Object(a.jsx)("br",{}))}return t}},{key:"render",value:function(){return Object(a.jsx)("div",{style:{border:"1px solid black",display:"inline-block"},children:this.renderAllBlocks(this.props.board)})}}]),r}(o.a.Component)),f=r(1),v=null,b=0;function j(e,t){e=e.slice(0);for(var r=new Array(81),a=0;a<81;a++)if(r[a]=new Set,"-"!==e[a])r[a].add(e[a]);else for(var n=1;n<=9;n++)r[a].add(n);for(var o=[],s=[1,2,3,4,5,6,7,8,9],i=0;i<1<<s.length;i++){for(var l=new Set,u=i,c=0;c<s.length;c++)1&u&&l.add(s[c]),u>>=1;l.size>0&&l.size<5&&o.push(l)}for(var d=[],h=0;h<9;h++){for(var v=[],b=[],j=0;j<9;j++)v.push(h+9*j),b.push(j+9*h);d.push(v,b)}for(var m=0;m<3;m++)for(var p=0;p<3;p++){for(var g=[],k=0;k<3;k++)for(var y=0;y<3;y++)g.push(3*m+k+9*(3*p+y));d.push(g)}for(var O=!0;O;){O=!1;var w,x=Object(f.a)(d);try{for(x.s();!(w=x.n()).done;){var S,z=w.value,I=Object(f.a)(o);try{for(I.s();!(S=I.n()).done;){var A=S.value;if(A.size<5){var C,T=new Set,q=Object(f.a)(z);try{for(q.s();!(C=q.n()).done;){var M,B=C.value,N=!1,F=Object(f.a)(r[B]);try{for(F.s();!(M=F.n()).done;){var P=M.value;if(!A.has(P)){N=!0;break}}}catch(oe){F.e(oe)}finally{F.f()}N||T.add(B)}}catch(oe){q.e(oe)}finally{q.f()}if(T.size===A.size){var E,G=Object(f.a)(z);try{for(G.s();!(E=G.n()).done;){var L=E.value;if(!T.has(L)){var H,J=Object(f.a)(A);try{for(J.s();!(H=J.n()).done;){var R=H.value;r[L].has(R)&&(O=!0),r[L].delete(R)}}catch(oe){J.e(oe)}finally{J.f()}}}}catch(oe){G.e(oe)}finally{G.f()}}}if(A.size<5){var _,D=new Set,V=Object(f.a)(z);try{for(V.s();!(_=V.n()).done;){var W,X=_.value,K=!1,Q=Object(f.a)(A);try{for(Q.s();!(W=Q.n()).done;){var U=W.value;r[X].has(U)?K=!0:!0}}catch(oe){Q.e(oe)}finally{Q.f()}K&&D.add(X)}}catch(oe){V.e(oe)}finally{V.f()}if(D.size===A.size){var Y,Z=Object(f.a)(D);try{for(Z.s();!(Y=Z.n()).done;){var $,ee=Y.value,te=new Set,re=Object(f.a)(A);try{for(re.s();!($=re.n()).done;){var ae=$.value;r[ee].has(ae)&&te.add(ae)}}catch(oe){re.e(oe)}finally{re.f()}r[ee].size!==te.size&&(O=!0),r[ee]=te}}catch(oe){Z.e(oe)}finally{Z.f()}}}}}catch(oe){I.e(oe)}finally{I.f()}}}catch(oe){x.e(oe)}finally{x.f()}}for(var ne=0;ne<r.length;ne++){if(!t&&1!==r[ne].size)return void console.log("Failed to solve");1!==r[ne].size?e[ne]="-":e[ne]=r[ne].values().next().value}return e}function m(){var e=new Array(81);return e.fill("-"),y(e,!1)}function p(e){e=e.slice(0);for(var t=new Map,r=0;r<1e4;r++){var a=Math.floor(9*Math.random()*9);if(!t.has(a)&&(t.set(a,!0),console.log(t.size),"-"!==e[a])){var n=e[a];e[a]="-",k(e)&&(e[a]=n)}}return e}function g(e){for(var t=0;t<9;t++)console.log(e.slice(9*t,9*t+9).join(""))}function k(e){return e=j(e,!0),b=0,y(e,!0,!0),1!==b}function y(e,t,r){if(81!==e.length)return"Incorrect size";if(!function(e){for(var t=0;t<9;t++){O();for(var r=0;r<9;r++)if(!w(e[9*t+r]))return!1;O();for(var a=0;a<9;a++)if(!w(e[9*a+t]))return!1}for(var n=0;n<3;n++)for(var o=0;o<3;o++){O();for(var s=0;s<3;s++)for(var i=0;i<3;i++)if(!w(e[3*n+s+9*(3*o+i)]))return!1}return!0}(e))return"Invalid";for(var a=0;a<81;a++)if("-"===e[a]){for(var n=e.slice(0),o=Math.floor(9*Math.random()),s=1;s<=9;s++){n[a]=(s+o)%9+1;var i=y(n,t,r);if("Invalid"!==i&&(!t||t&&r&&b>=2))return i}return"Invalid"}return t&&b++,e}function O(){v=new Array(10)}function w(e){return"-"===e||!v[e]&&(v[e]=!0,!0)}var x=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(l.a)(this,r),e=t.call(this);var a=new Array(81);return a.fill("-"),e.state={loading:!1,board:a},e}return Object(u.a)(r,[{key:"generateNewSudoku",value:function(){var e=this,t=new Array(81);t.fill("-"),this.setState({loading:!0,board:t}),setTimeout((function(){var t=function(){for(;;){var e=p(m());if(g(e),!j(e))return e}}();e.setState({board:t,loading:!1})}),100)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("h1",{children:"Very Hard Sudoku Generator"}),Object(a.jsx)(h,{board:this.state.board}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:function(){return e.generateNewSudoku()},children:"Generate New Sudoku"}),this.state.loading?Object(a.jsx)("div",{style:{display:"inline-block",position:"relative",top:5,left:5},children:Object(a.jsx)("div",{className:"loader"})}):null]}),Object(a.jsxs)("div",{style:{width:800,marginLeft:"auto",marginRight:"auto"},children:[Object(a.jsx)("h2",{children:"How does it work?"}),Object(a.jsx)("p",{children:"There are three stages to this sudoku generation algorithm."}),Object(a.jsxs)("ol",{style:{display:"table",margin:"auto",textAlign:"left"},children:[Object(a.jsx)("li",{children:"Generate Solved Sudoku"}),Object(a.jsxs)("li",{children:["Remove elements until the sudoku is both ",Object(a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Mathematics_of_Sudoku#Overview",children:"proper and minimal"})]}),Object(a.jsx)("li",{children:"If basic solving techniques can solve the sudoku, discard the sudoku and start from step 1."})]}),Object(a.jsx)("p",{children:"In the first stage a solved sudoku is generated. This is done by randomly filling in valid sudoku values in empty squares and backtracking when a valid value can no longer be filled in."}),Object(a.jsx)("p",{children:"In the second stage, values are removed from the solved sudoku randomly. After each value is removed, the sudoku is solved by a brute force solver which also checks for multiple solutions. If removing a value leads to multiple solutions, the value is placed back in the sudoku and a different square is selected to be removed. After this stage is complete, no number can be removed without allowing for an ambiguous solution so the sudoku is called a minimal sudoku. Minimal sudokus do not have many numbers but this does not necessarily make them hard. To ensure the sudoku is difficult, a third stage is necessary."}),Object(a.jsx)("p",{children:"The final stage runs the generated sudoku from the previous steps through a constraint propagation based solving algorithm which mimics the most common human solving strategies. If the sudoku can be solved with this algorithm then it is discarded and the process repeats until a sudoku that cannot be solved with constraint propagation is generated."}),Object(a.jsx)("h2",{children:"More on constraint propagation"}),Object(a.jsxs)("p",{children:["The constraint propagation I implemented only looks for ",Object(a.jsx)("a",{href:"https://www.learn-sudoku.com/basic-techniques.html",children:"hidden subsets (up to 4) and naked subsets (up to 4)"}),'. This seems to be enough to solve many human generated sudokus even many of those rated "hard" or "expert" (although that is subjective). The purpose of this algorithm is not to solve all sudokus but rather to attempt to solve them only using a restricted set of logical rules. If the sudoku cannot be solved using these rules then it must require a more advanced trick. I implemented a custom algorithm for this based on the first part of Peter Norvig\'s page ',Object(a.jsx)("a",{href:"https://norvig.com/sudoku.html",children:"Solving Every Sudoku Puzzle"}),". Eliminating sudokus that are solved with this method ensures that any sudoku generated at some point requires the use of a more advanced technique like ",Object(a.jsx)("a",{href:"https://www.learn-sudoku.com/advanced-techniques.html",children:"X-Wing or Swordfish"}),". Some of the generated sudokus seem to require completely custom logic tricks as well which can make them more interesting."]})]}),Object(a.jsx)("a",{style:{color:"grey",position:"fixed",right:10,bottom:10},href:"https://natethegreat2525.github.io/",children:"Nathan's Projects"})]})}}]),r}(o.a.Component),S=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,17)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),o(e),s(e)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),S()}},[[16,1,2]]]);
//# sourceMappingURL=main.344122a9.chunk.js.map